<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ì‹ ê°€ë„¤ ë§ˆë‹ˆë˜ ì¡°íšŒ</title>
<style>
Â  @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap');

Â  body {
Â  Â  font-family: "Pretendard", sans-serif;
Â  Â  margin: 0;
Â  Â  padding: 0;
Â  Â  background: #f0f4f8;
Â  Â  display: flex;
Â  Â  justify-content: center; /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
Â  Â  align-items: flex-start; /* í¼ì´ ìœ„ì—ì„œë¶€í„° ì‹œì‘í•˜ë„ë¡ ì„¤ì • */
Â  Â  min-height: 100vh;
Â  Â  position: relative;
Â  }

Â  .bg {
Â  Â  position: fixed;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  height: 100vh; /* ë·°í¬íŠ¸ ì „ì²´ ë†’ì´ë¥¼ ì‚¬ìš© */
Â  Â  background-image: url('ì•„ë²„ì§€.jpg');
Â  Â  background-size: cover; /* ì´ë¯¸ì§€ê°€ ì „ì²´ë¥¼ ë®ë„ë¡ ì¡°ì • */
Â  Â  background-position: center top; /* ì–¼êµ´ì´ ìœ„ìª½ ì¤‘ì•™ì— ì˜¤ë„ë¡ ìœ ì§€ */
Â  Â  background-repeat: no-repeat;
Â  Â  z-index: -2;
Â  }

Â  .overlay {
Â  Â  position: fixed;
Â  Â  top:0; left:0;
Â  Â  width:100%; 
Â  Â  height: 100vh; /* ì˜¤ë²„ë ˆì´ë„ ì „ì²´ ë†’ì´ ì‚¬ìš© */
Â  Â  background: rgba(0,0,0,0.15);
Â  Â  z-index:-1;
Â  }

Â  .container {
Â  Â  max-width: 400px; /* PC í™”ë©´ì—ì„œ ë„ˆë¬´ ë„“ì§€ ì•Šê²Œ ì¡°ì • */
Â  Â  width: 90%; /* ëª¨ë°”ì¼ì—ì„œ ì¢Œìš° ì—¬ë°± í™•ë³´ */
Â  Â  margin-top: 75vh; /* í¼ì„ í™”ë©´ í•˜ë‹¨ ì¤‘ì•™ìœ¼ë¡œ ì´ë™ (ë†’ì´ 75% ì§€ì ë¶€í„° ì‹œì‘) */
Â  Â  margin-bottom: 50px; /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
Â  Â  background: rgba(255,255,255,0.95); /* ë°°ê²½ íˆ¬ëª…ë„ ì•½ê°„ ë†’ì—¬ ê°€ë…ì„± ì¦ê°€ */
Â  Â  padding: 30px 25px;
Â  Â  border-radius: 25px;
Â  Â  box-shadow: 0 12px 30px rgba(0,0,0,0.3);
Â  Â  backdrop-filter: blur(5px); /* ë¸”ëŸ¬ ê°•ë„ ì•½ê°„ ì¦ê°€ */
Â  Â  text-align: center;
Â  Â  animation: fadeIn 0.8s ease-in-out;
Â  Â  z-index: 10; /* í¼ì´ ë°°ê²½ ìœ„ì— í™•ì‹¤íˆ ë³´ì´ë„ë¡ */
Â  }

Â  h2 {
Â  Â  font-size: 26px;
Â  Â  font-weight: 700;
Â  Â  margin-bottom: 20px;
Â  Â  color: #333;
Â  }

Â  h3 {
Â  Â  font-size: 18px;
Â  Â  font-weight: 600;
Â  Â  margin-top: 24px;
Â  Â  color: #555;
Â  }

Â  /* ì…ë ¥ í•„ë“œì— width: 100% ë° box-sizing ì ìš© */
Â  input {
Â  Â  width: 100%; /* ë¶€ëª¨ ìš”ì†Œ ë„ˆë¹„ë¥¼ ê½‰ ì±„ì›€ */
Â  Â  box-sizing: border-box; /* íŒ¨ë”©ê³¼ ë³´ë”ê°€ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ ì„¤ì • */
Â  Â  padding: 14px;
Â  Â  margin-bottom: 15px;
Â  Â  border-radius: 12px;
Â  Â  border: 1px solid #ccc;
Â  Â  font-size: 16px;
Â  Â  outline: none;
Â  Â  transition: 0.2s;
Â  }

Â  input:focus {
Â  Â  border-color: #007bff;
Â  Â  box-shadow: 0 0 8px rgba(0,123,255,0.2);
Â  }

Â  /* ë²„íŠ¼ì— width: 100% ë° box-sizing ì ìš© */
Â  button {
Â  Â  width: 100%; /* ë¶€ëª¨ ìš”ì†Œ ë„ˆë¹„ë¥¼ ê½‰ ì±„ì›€ */
Â  Â  box-sizing: border-box; /* íŒ¨ë”©ê³¼ ë³´ë”ê°€ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ ì„¤ì • */
Â  Â  padding: 14px;
Â  Â  border: none;
Â  Â  border-radius: 12px;
Â  Â  background: linear-gradient(90deg,#4a90e2,#007bff);
Â  Â  color: white;
Â  Â  font-size: 17px;
Â  Â  font-weight: 600;
Â  Â  cursor: pointer;
Â  Â  transition: 0.3s;
Â  }

Â  button:hover {
Â  Â  background: linear-gradient(90deg,#007bff,#005fcc);
Â  }

Â  .result {
Â  Â  margin-top: 22px;
Â  Â  font-size: 18px;
Â  Â  font-weight: 600;
Â  Â  color: #333;
Â  Â  line-height: 1.5;
Â  Â  min-height: 60px;
Â  }

Â  .highlight {
Â  Â  color: #28a745;
Â  Â  font-weight: 700;
Â  Â  font-size: 20px;
Â  }

Â  #passwordList {
Â  Â  margin-top: 16px;
Â  Â  font-size: 15px;
Â  Â  line-height: 1.5;
Â  Â  color: #555;
Â  Â  text-align: left;
Â  Â  max-height: 180px;
Â  Â  overflow-y: auto;
Â  Â  padding: 8px 12px;
Â  Â  border: 1px solid #ccc;
Â  Â  border-radius: 12px;
Â  Â  background: #f9f9f9;
Â  }

Â  hr {
Â  Â  margin: 22px 0;
Â  Â  border: none;
Â  Â  border-top: 1px solid #ddd;
Â  }

Â  @keyframes fadeIn {
Â  Â  from {opacity:0; transform: translateY(-20px);}
Â  Â  to {opacity:1; transform: translateY(0);}
Â  }

Â  /* ì‘ì€ í™”ë©´ì¼ ë•Œ í¼ì„ ì¡°ê¸ˆ ë” ìœ„ë¡œ ì˜¬ë ¤ ë°°ê²½ì´ ëœ ê°€ë ¤ì§€ê²Œ ì¡°ì • */
Â  @media (max-width: 600px) {
Â  Â  .container {
Â  Â  Â  margin-top: 60vh; 
Â  Â  }
Â  }
</style>
</head>
<body>
<div class="bg"></div>
<div class="overlay"></div>

<div class="container">
Â  <h2>ì‹ ê°€ë„¤ ë§ˆë‹ˆë˜ ê°œì¸ ì¡°íšŒ</h2>

Â  Â  <form onsubmit="checkManitto(); return false;"> 
Â  Â  <input type="text" id="username" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required />
Â  Â  <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required />
Â  Â  <button type="submit">ì¡°íšŒ/ë“±ë¡</button>
Â  </form>

Â  <div class="result" id="result"></div>

Â  <hr>
Â  <h3>ì°¸ì—¬ì ë¹„ë°€ë²ˆí˜¸ í™•ì¸ìš© (ê´€ë¦¬ìš©)</h3>
Â  <div id="passwordList"></div>
</div>

<script>
Â  const people = [
Â  Â  "ì‹ ê´€ìš°", "ìš°ê²½í˜¸", "ì‹ ì€ì§€",
Â  Â  "ì‹ ì„±ì‹", "ìµœì§€ì¸", "ì‹ ì´í˜„", "ì‹ ì´ì•„",
Â  Â  "ì‹ ê´‘ì‹", "ë¥˜ì§„", "ì‹ ì„ í˜¸", "ì‹ ì§€ì•„"
Â  ];

Â  const families = {
Â  Â  family1: ["ì‹ ê´€ìš°", "ìš°ê²½í˜¸", "ì‹ ì€ì§€"],
Â  Â  family2: ["ì‹ ì„±ì‹", "ìµœì§€ì¸", "ì‹ ì´í˜„", "ì‹ ì´ì•„"],
Â  Â  family3: ["ì‹ ê´‘ì‹", "ë¥˜ì§„", "ì‹ ì„ í˜¸", "ì‹ ì§€ì•„"]
Â  };

Â  let familyMap = {};
Â  for (const f in families) {
Â  Â  families[f].forEach(name => familyMap[name] = f);
Â  }

Â  let passwordMap = {};
Â  let manittoMap = {};

Â  function createPassword() {
Â  Â  return Math.random().toString(36).slice(2, 8);
Â  }

Â  function drawManitto() {
Â  Â  let assigned = false;

Â  Â  while (!assigned) {
Â  Â  Â  let candidates = [...people];
Â  Â  Â  let tempMap = {};
Â  Â  Â  let success = true;

Â  Â  Â  for (let person of people) {
Â  Â  Â  Â  let available = candidates.filter(p => p !== person && familyMap[p] !== familyMap[person]);
Â  Â  Â  Â  if (available.length === 0) {
Â  Â  Â  Â  Â  success = false;
Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  }
Â  Â  Â  Â  let pick = available[Math.floor(Math.random() * available.length)];
Â  Â  Â  Â  tempMap[person] = pick;
Â  Â  Â  Â  candidates = candidates.filter(c => c !== pick);
Â  Â  Â  }

Â  Â  Â  if (success) {
Â  Â  Â  Â  manittoMap = tempMap;
Â  Â  Â  Â  assigned = true;
Â  Â  Â  }
Â  Â  }
Â  }

Â  drawManitto();

Â  const result = document.getElementById("result");
Â  result.innerHTML = "<span class='highlight'>ì²˜ìŒ ì¡°íšŒ ì‹œì—ëŠ” ë¹„ë°€ë²ˆí˜¸ì— 0ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</span>";

Â  // URL íŒŒë¼ë¯¸í„°ë¡œ ì´ë¦„ ìë™ ì…ë ¥
Â  const urlParams = new URLSearchParams(window.location.search);
Â  const defaultName = urlParams.get('name');
Â  if(defaultName && people.includes(defaultName)){
Â  Â  Â  document.getElementById("username").value = defaultName;
Â  }

Â  function checkManitto() {
Â  Â  const name = document.getElementById("username").value.trim();
Â  Â  const pw = document.getElementById("password").value.trim();

Â  Â  if (!people.includes(name)) {
Â  Â  Â  result.innerHTML = "<span class='highlight'>ë“±ë¡ë˜ì§€ ì•Šì€ ì´ë¦„ì…ë‹ˆë‹¤.</span>";
Â  Â  Â  return;
Â  Â  }

Â  Â  // ìµœì´ˆ ì¡°íšŒ
Â  Â  if (!passwordMap[name]) {
Â  Â  Â  if (pw !== "0") {
Â  Â  Â  Â  result.innerHTML = "<span class='highlight'>ì²˜ìŒ ì¡°íšŒ ì‹œì—ëŠ” ë¹„ë°€ë²ˆí˜¸ì— 0ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</span>";
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  const newPassword = createPassword();
Â  Â  Â  passwordMap[name] = newPassword;

Â  Â  Â  result.innerHTML = `ğŸ‰ <span class='highlight'>ìµœì´ˆ ë“±ë¡ ì™„ë£Œ!</span><br>
Â  Â  Â  Â  ë‹¹ì‹ ì˜ ë§ˆë‹ˆë˜ëŠ” <span style="color:#007bff; font-weight:700;">${manittoMap[name]}</span><br>
Â  Â  Â  Â  ê°œì¸ ë¹„ë°€ë²ˆí˜¸ëŠ”: <span class='highlight'>${newPassword}</span> ì…ë‹ˆë‹¤.<br>
          <span style="font-size:16px; font-weight:400; color:#555;">(ê°œì¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¼­ ê¸°ì–µí•´ì£¼ì„¸ìš”!)</span>`;

Â  Â  Â  updatePasswordList();
Â  Â  Â  return;
Â  Â  }

Â  Â  // ì´í›„ ì¡°íšŒ
Â  Â  if (passwordMap[name] !== pw) {
Â  Â  Â  result.innerHTML = "<span class='highlight'>ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>";
Â  Â  Â  return;
Â  Â  }

Â  Â  result.innerHTML = `ğŸ ë‹¹ì‹ ì˜ ë§ˆë‹ˆë˜ëŠ” <br><br>
Â  Â  Â  <span style="font-size:22px;color:#007bff;">${manittoMap[name]}</span> ì…ë‹ˆë‹¤!`;
Â  }

Â  function updatePasswordList() {
Â  Â  const passwordDiv = document.getElementById("passwordList");
Â  Â  passwordDiv.innerHTML = "";
Â  Â  people.forEach(name => {
Â  Â  Â  if (passwordMap[name]) {
Â  Â  Â  Â  const p = document.createElement("p");
Â  Â  Â  Â  p.textContent = `${name}: ${passwordMap[name]}`;
Â  Â  Â  Â  passwordDiv.appendChild(p);
Â  Â  Â  }
Â  Â  });
Â  }
</script>

</body>
</html>